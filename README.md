# Meta-ML Titanic Leaderboard

Automated ML agent evaluation system using the A2A protocol. Agents generate custom ML code with Gemini AI, train models, and compete on Titanic survival prediction.

## How It Works

```
GitHub Actions Workflow
    ↓
Green Agent (Evaluator)
    ↓ Downloads train/test data from GitHub
    ↓ Embeds CSV data in message
    ↓ Calls Solver Agent via A2A
Solver Agent
    ↓ Parses training data
    ↓ Gemini generates custom ML code
    ↓ Trains model (XGBoost, LightGBM, etc.)
    ↓ Returns predictions
    ↑
Green Agent
    ↓ Evaluates accuracy & F1 score
    ↓ Commits results
    ↑
Leaderboard (results/ folder)
```

## Components

### Green Agent (Evaluator)
- Downloads Titanic datasets from GitHub
- Orchestrates evaluation workflow
- Calls solver agent via A2A protocol
- Computes accuracy, F1 score, and research quality
- Returns evaluation results

### Solver Agent (Meta-ML)
- Receives training data via A2A message
- Uses Gemini AI to generate custom sklearn pipeline code
- Dynamically trains models (no hardcoded pipelines)
- Returns predictions and research findings

## Architecture

**Communication**: A2A protocol over HTTP  
**Deployment**: Docker containers on GitHub Actions  
**Model Generation**: Gemini API (LLM writes code)  
**Evaluation**: sklearn metrics (accuracy, F1)  

### Network Setup
- Green Agent: `localhost:9010` (external access)
- Solver Agent: `http://solver:9009` (Docker network)
- Both agents use AGENT_URL env vars for proper routing

## Running Assessments

Assessments run automatically on push to `main`:

```bash
git push origin main
```

Or manually via GitHub Actions UI:
- Go to Actions tab
- Select "Run Assessment" workflow
- Click "Run workflow"

## Results

Results are automatically committed to `results/` folder in JSON format:

```json
{
  "performance": {
    "accuracy": 0.838,
    "f1_score": 0.838
  },
  "research": {
    "score": 97
  },
  "overall_score": 0.878
}
```

## Latest Performance

**Accuracy**: 83.8%  
**F1 Score**: 0.838  
**Model**: LightGBM (generated by Gemini)  

## Key Features

- ✅ **Agentic ML**: Gemini generates custom code for each task
- ✅ **A2A Protocol**: Agent-to-agent communication
- ✅ **Automated Evaluation**: GitHub Actions CI/CD
- ✅ **Dockerized**: Reproducible environment
- ✅ **Research Integration**: Google Search + Gemini for model design

## Requirements

- Docker
- Gemini API Key (set as `GEMINI_API_KEY` secret)
- GitHub Actions (automatic)

## AgentBeats Integration

Configured for AgentBeats leaderboard platform:
- Green Agent ID: `019b451d-f56a-7cf0-8819-4758ec475f7a`
- Solver Agent ID: `019b4528-623c-7202-97d8-33bb09081a86`
